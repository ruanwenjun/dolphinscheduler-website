{
  "filename": "registry_spi.md",
  "__html": "<h3>DolphinScheduler Registry SPI 主要设计</h3>\n<h4>如何使用？</h4>\n<p>首先你需要执行 <code>mvn -U install package -Prelease -Dmaven.test.skip=true</code> 安装插件，生成注册中心的插件 jar。目录是：dolphinscheduler-dist/target/dolphinscheduler-dist-1.3.6-SNAPSHOT/lib/plugin/registry</p>\n<p>其次进行以下配置（以 zookeeper 为例）</p>\n<table>\n<thead>\n<tr>\n<th>参数</th>\n<th>默认值</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>registry.plugin.dir</td>\n<td>./dolphinscheduler-dist/target/dolphinscheduler-dist-1.3.6-SNAPSHOT/lib/plugin/registry/zookeeper</td>\n<td>注册中心插件目录</td>\n</tr>\n<tr>\n<td><a href=\"http://registry.plugin.name\">registry.plugin.name</a></td>\n<td>zookeeper</td>\n<td>注册中心具体插件名称</td>\n</tr>\n<tr>\n<td>registry.plugin.binding</td>\n<td>registry</td>\n<td>DolphinScheduler 插件类别</td>\n</tr>\n<tr>\n<td>registry.servers</td>\n<td>127.0.0.1:2181</td>\n<td>zk 连接地址</td>\n</tr>\n</tbody>\n</table>\n<p>具体配置信息请参考具体插件提供的参数信息，例如 zk：org/apache/dolphinscheduler/plugin/registry/zookeeper/ZookeeperConfiguration.java\n所有配置信息前缀需要 +registry，如 <a href=\"http://base.sleep.time.ms\">base.sleep.time.ms</a>，在 registry 中应该这样配置：registry.base.sleep.time.ms=100</p>\n<h4>FAQ</h4>\n<p>1: registry plugin not found</p>\n<p>请检查是否有执行 <code>mvn -U install package -Prelease -Dmaven.test.skip=true</code> ，此外，请检查配置文件中的 registry.plugin.dir 中配置的目录是否有相关插件。</p>\n<p>2：registry connect timeout</p>\n<p>可以增加相关超时参数。</p>\n",
  "link": "/dist/zh-cn/docs/dev/user_doc/registry_spi.html",
  "meta": {}
}